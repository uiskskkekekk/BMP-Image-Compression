# BMP 圖片失真壓縮

## 開發環境

### 程式語言與開發環境
- Python 3.12.8
- Visual Studio Code

#### 主要使用的套件
1. **NumPy**
   - 用於圖片處理的陣列運算
   - DCT 轉換和量化所需的數學函數
   - 主要使用的函數：
     - `np.array()`：將圖片轉換為陣列
     - `np.mean()`：計算平均值
     - `np.round()`：量化處理
     - `np.clip()`：確保像素值在有效範圍內

2. **Pillow (PIL)**
   - 圖片處理與轉換
   - 主要使用的函數：
     - `Image.open()`：讀取 BMP 檔案
     - `Image.fromarray()`：將陣列轉回圖片
     - `convert('RGB')`：確保 RGB 色彩模式

3. **內建套件**
   - `struct`：二進制資料的打包/解包
   - `zlib`：資料壓縮
   - `os`：檔案操作

## 壓縮演算法
1. 區塊處理
   - 將圖片分割成 8x8 的區塊
   - 分別處理每個色彩通道

2. 區塊處理步驟
   - 計算平均值
   - DCT 類似轉換
   - 使用類 JPEG 量化矩陣進行量化
   - 反向轉換

3. 額外壓縮
   - 使用 zlib 進行額外的資料壓縮

### 三個test files的測試結果

| 版本 | 壓縮率 | 失真率(MSE) |
|------|---------|----------|
| Baboon | 6.37% | 7.35 |
| Lena | 20.66% | 6.76 |
| Peppers | 16.84% | 6.86 |